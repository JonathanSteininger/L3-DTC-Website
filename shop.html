<!doctype html>

<html>
<!--<style rel="style.css"></style>-->

<head>
    <title>web</title>
    <link rel="stylesheet" href="style2.css">




</head>

<body onclick="closetab()">
    <div class="box2">
        <nav id="navbox">
            <div class="nav-grid">
                <img src="img/logo.png" class="logo">
                <a href="index.html">home</a>
                <a href="index.html">shop</a>
                <a href="index.html">contacts</a>
                <a href="index.html">cart</a>
                <a href="index.html">home</a>
                <a href="index.html">home</a>
                <a href="index.html">home</a>
                <a href="index.html">home</a>
            </div>
            <div class="contacts">
                <a href="https://www.facebook.com">
                    <h4>Facebook</h4>
                </a>
                <a href="https://www.facebook.com">
                    <img src="img/socials/facebook.png">
                </a>
                <a href="https://www.twitter.com">
                    <h4>Twitter</h4>
                </a>
                <a href="https://www.twitter.com">
                    <img src="img/socials/twitter.png">
                </a>
                <a href="https://www.youtube.com/user/daniel04178556">
                    <h4>Youtube</h4>
                </a>
                <a href="https://www.youtube.com/user/daniel04178556">
                    <img src="img/socials/youtube.png">
                </a>
                <a href="mailto: jonline2003@gmail.com">
                    <h4>Mail</h4>
                </a>
                <a href="mailto: jonline2003@gmail.com">
                    <img src="img/socials/mail.png">
                </a>
                <p>Copyright 2021-2043 by epic gamer. All Rights Reserved.</p>

            </div>
        </nav>
        <div class="button-background" onclick="navtab()">
            <p class="nav-button" id="button">
                << </p>
        </div>
    </div>
    <img src="img/logo.png" class="logo2">

    <div class="sub-nav">
        <h2 onclick="catagoryTab()">Catagory\/</h2>
        <img src="img/cart2.png" onclick="cartDisplay()">
    </div>
    <div id="catagory-tab">
        <div class="catagory-collum" onclick="itemSelect(pens, 'pens' )">
            <p>pens</p>
        </div>
        <div class="catagory-collum" onclick="itemSelect(artBoards, 'artBoards')">
            <p>art boards</p>
        </div>
        <div class="catagory-collum" onclick="itemSelect(paints, 'paints')">
            <p>paint</p>
        </div>
        <div class="catagory-collum" onclick="itemSelect(books, 'books')">
            <p>books</p>
        </div>
        <div class="catagory-collum" onclick="itemSelect(pencils, 'pencils')">
            <p>pencils</p>
        </div>
        <div class="catagory-collum" onclick="itemSelect(other, 'other')">
            <p>other</p>
        </div>
    </div>

    <div class="cart-container" id="cart-container">
        <!--
        <div class="row-container" id="cartitem0">
            <img src="img/pens/pen0.jpg" id="cartimg0">
            <h3>pen 3$NZD</h3>
            <h5>remove</h5>
        </div>
-->
    </div>

    <div class="items-container" id="items-container">
        <!--
        <div class="item" id="item0">
            <img src="img/pens/pen0.jpg" id="img0">
            <h3>pen 3$NZD</h3>
            <h5>add to cart</h5>
        </div>
-->
    </div>


</body>

</html>
<script>
    var cartOpen = false;

    function cartDisplay() {
        if (cartOpen) {
            document.getElementById('cart-container').style.height = '0';
            document.getElementById('cart-container').style.minHeight = '0';
            document.getElementById('items-container').style.height = 'auto';
            cartOpen = false;
        } else {
            document.getElementById('cart-container').style.minHeight = '100vh';
            document.getElementById('cart-container').style.height = 'auto';
            document.getElementById('items-container').style.height = '0';
            cartOpen = true;
        }
        loadCartItems();
    }

    function loadCartItems() {
        document.getElementById('cart-container').innerHTML = '';
        document.getElementById('cart-container').style.gridTemplateRows = 'repeat(' + cart.length + ',10vw) auto';

        for (let iii = 0; iii < cart.length; iii++) {
            let insert = '<div class="row-container" id="cartitem' + iii + '"> <img src="' + cart[iii][0] + '" id="img' + iii + '"> <h3>' + cart[iii][1] + '</h3> <h5 onclick="removeItem(' + iii + ')">remove</h5> </div>';
            document.getElementById('cart-container').innerHTML += insert;
        }
    }

    function removeItem(x) {
        cart[x] = 'empty';
        cart = cart.filter(word => word != 'empty');
        loadCartItems();
    }

    var pens = [
        ['img/pens/pen0.jpg', "Black uni-ball Pen"],
        ['img/pens/pen1.jpg', 'black ball pen'],
        ['img/pens/pen2.jpg', 'blue ball pen'],
        ['img/pens/pen3.jpg', 'blue uni-ball pen'],
        ['img/pens/pen4.jpg', 'fountain pen'],
        ['img/pens/pen5.jpg', 'uni+fine black pen bundle'],
        ['img/pens/pen6.jpg', 'black pen bundle']
    ]; // [src, name]
    var artBoards = [
        ['img/artBoards/canvas-plain.jpg', 'Small Canvas'],
        ['img/artBoards/canvas-bundle.jpg', 'Small Canvas Bundle'],
        ['img/artBoards/canvas-medium-portrait.jpg', 'Medium Canvas'],
        ['img/artBoards/canvas-smol.jpeg', 'Small Canvas Stand'],
        ['img/artBoards/canvas-stand.jpg', 'large Canvas Stand']
    ]; //
    var paints = [
        ['img/paint/black.jpg', 'Black Paint'],
        ['img/paint/white.jpg', 'White Paint'],
        ['img/paint/blue.jpg', 'Blue Paint'],
        ['img/paint/brown.jpg', 'Brown Paint'],
        ['img/paint/green.jpg', 'Green Paint'],
        ['img/paint/orange.jpg', 'Orange Paint'],
        ['img/paint/purple.jpg', 'Purple Paint'],
        ['img/paint/red.jpg', 'Red Paint'],
        ['img/paint/yellow.jpg', 'Yellow Paint']
    ]; //
    var books = [
        ['img/books/leaf-english.jpg', 'Loose Leaf Refill'],
        ['img/books/line-smol.jpg', 'Rulerd line Book'],
        ['img/books/note-very-smol.jpg', 'Notebook'],
        ['img/books/math-smol.jpg', 'Square Math Book'],
        ['img/books/graph-smol.jpg', 'Graph Book'],
        ['img/books/blank-smol.jpg', 'Blank Book'],
        ['img/books/binder.jpg', 'Ring Binder'],
        ['img/books/divider.jpg', 'Binder Dividers']
    ]; //
    var pencils = [
        ['img/pencils/all-hardness-pencils.jpg', 'All Pencils'],
        ['img/pencils/pencil-lead.jpg', 'HP Pencils'],
        ['img/pencils/pencil-box-large.jpg', 'Large HP Pencils'],
        ['img/pencils/colour-pencil-expert.jpg', 'Large Colouring Pencil Box'],
        ['img/pencils/colour-pencil-box.jpg', 'Small Colouring Pencil Box'],
        ['img/pencils/eraser-plain.jpg', 'Eraser'],
        ['img/pencils/eraser-eco.jpg', 'Eco Eraser'],
        ['img/pencils/eraser-box.jpg', 'Eraser Box'],
        ['img/pencils/eraser-attached.jpg', 'attachable Erasers']
    ]; //
    var other = [
        ['img/other/calculator.jpg', 'Calculator'],
        ['img/other/glue.jpg', 'Glue'],
        ['img/other/glue-stick.jpg', 'Glue Stick'],
        ['img/other/highlighter.jpeg', 'Highlighter'],
        ['img/other/paperclips.png', 'Paperclips'],
        ['img/other/ruler.jpg', 'Ruler Set'],
        ['img/other/ruler-large.jpg', 'Large Ruler'],
        ['img/other/scissor.jpg', 'Scissor'],
        ['img/other/sharpener.jpg', 'Sharpener'],
        ['img/other/stapler.jpg', 'Stapler']
    ]; //

    var cart = [];

    function itemSelect(item, x) {
        document.getElementById('items-container').innerHTML = '';
        document.getElementById('cart-container').style.height = '0';
        document.getElementById('cart-container').style.minHeight = '0';
        document.getElementById('items-container').style.height = 'auto';
        cartOpen = false;

        for (let i = 0; i < item.length; i++) {
            let insert = '<div class="item" id="item' + i + '"> <img src="' + item[i][0] + '" id="img' + i + '"> <h3>' + item[i][1] + '</h3> <h5 onclick="additem(' + x + "[" + i + "]" + ')">add to cart</h5> </div>';
            document.getElementById('items-container').innerHTML += insert;
            if (navopen == false) {
                let pictureid = "img" + i;
                let itemid = "item" + i;
                document.getElementById(pictureid).style.maxWidth = '25vw';
                document.getElementById(itemid).style.maxWidth = '25vw';
            } else {
                let pictureid = "img" + i;
                let itemid = "item" + i;
                document.getElementById(pictureid).style.maxWidth = '30vw';
                document.getElementById(itemid).style.maxWidth = '30vw';
            }
        }
    }

    function additem(x) {
        cart.push(x);
        console.log(cart);
    }


    window.onload = function() {
        itemSelect(pens, "pens");
        loadCartItems();
    }

    var navopen = true;

    function navtab() {
        if (navopen == true) {
            document.getElementById("navbox").style.transition = 'width 0.5s';
            document.getElementById("navbox").style.width = '0px';
            document.getElementById("button").innerHTML = '>>';
            setTimeout(() => {
                document.getElementById("items-container").style.gridTemplateColumns = '1fr 1fr 1fr';
            }, 400);
            let count = getCount(document.getElementById("items-container"), false);
            for (let ii = 0; ii < count; ii++) {
                setTimeout(() => {
                    let pictureid = "img" + ii;
                    let itemid = "item" + ii;
                    document.getElementById(pictureid).style.maxWidth = '25vw';
                    document.getElementById(itemid).style.maxWidth = '25vw';
                }, 400);
            }
            navopen = false;
        } else {
            document.getElementById("navbox").style.width = '15vw';
            document.getElementById("button").innerHTML = '<<';
            setTimeout(() => {
                document.getElementById("items-container").style.gridTemplateColumns = '1fr 1fr';
            }, 50);
            let count = getCount(document.getElementById("items-container"), false);
            for (let ii = 0; ii < count; ii++) {
                setTimeout(() => {
                    let pictureid = "img" + ii;
                    let itemid = "item" + ii;
                    document.getElementById(pictureid).style.maxWidth = '30vw';
                    document.getElementById(itemid).style.maxWidth = '30vw';
                }, 50);
            }
            navopen = true;
            setTimeout(() => {
                document.getElementById("navbox").style.transition = 'none';
            }, 500); //dope
        }
    }

    var catagoryOpen = false;

    function closetab() {
        if (catagoryOpen == true) {
            catagoryOpen = false;
            document.getElementById('catagory-tab').style.height = "0";
            document.getElementById('catagory-tab').style.overflowY = "hidden";
            document.getElementById('catagory-tab').style.borderBottom = "none";
        }
    }

    function catagoryTab() {
        if (catagoryOpen == false) {
            document.getElementById('catagory-tab').style.height = "30vh";
            document.getElementById('catagory-tab').style.overflowY = "scroll";
            document.getElementById('catagory-tab').style.borderBottom = "solid black 2px";
            setTimeout(() => {
                catagoryOpen = true;
            }, 1000); //dope
        } else {
            catagoryOpen = false;
            document.getElementById('catagory-tab').style.height = "0";
            document.getElementById('catagory-tab').style.overflowY = "hidden";
            document.getElementById('catagory-tab').style.borderBottom = "none";
        }
    }

    function getCount(parent, getChildrensChildren) {
        var relevantChildren = 0;
        var children = parent.childNodes.length;
        for (var i = 0; i < children; i++) {
            if (parent.childNodes[i].nodeType != 3) {
                if (getChildrensChildren)
                    relevantChildren += getCount(parent.childNodes[i], true);
                relevantChildren++;
            }
        }
        return relevantChildren;
    }

</script>
